/*
 * =========================================================================
 *
 *        Filename: Conline_map.h
 *
 *        Version:  1.0
 *        Created:  2011-08-25 03:52:47
 *        Description:  
 *
 *        Author:  xxx (xxxj@taomee.com)
 *        Company:  TAOMEE
 *
 * =========================================================================
 */
#ifndef  CONLINE_MAP_H
#define  CONLINE_MAP_H
#include  <stdint.h>
#include  <map>
#include  <set>
class Conline_map {
	private:
		//mapid->list<userid> 
		std::map<uint32_t, std::set<uint32_t> >online_map_map_;

		//userid->mapid
		std::map<uint32_t,  uint32_t > user_online_map_;

	public:
		//进入地图
		void cd_map(uint32_t userid,uint32_t mapid ){
			//清空原有的数据
			uint32_t  old_mapid=this->user_online_map_[userid];
			if(old_map!=0 ){//存在
				this->online_map_map_[old_map].erase(userid );
			}
			//加入
			this->user_online_map_[userid]=mapid;
			this->online_map_map_[mapid].insert(userid);
		}


};



#endif  /*CONLINE_MAP_H*/

