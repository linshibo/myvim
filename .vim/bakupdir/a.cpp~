
//节假日
#include <iostream>
#include  <set>
#include <stdint.h>
#include <stdlib.h>
class Choliday {
	private:
		//是节假日:501 1001
		std::set<uint32_t> is_holiday_set_;
		//不是节假日:
		std::set<uint32_t> isnot_holiday_set_;
	public:
		inline bool check_is_holiday(time_t t ){
		    struct tm tm_tmp;
		    localtime_r(&t, &tm_tmp) ;
			uint32_t date_val=(tm_tmp.tm_mon+1)*100+tm_tmp.tm_mday;
			if(this->is_holiday_set_.find( date_val ) 
					!=this->is_holiday_set_.end() ){
				return true;
			}
			if(this->isnot_holiday_set_.find( date_val ) 
					!=this->isnot_holiday_set_.end() ){
				return false;
			}
			//检查是不是周六，周日
		    return tm_tmp.tm_wday==6 || tm_tmp.tm_wday==0; 
		}
		inline void init(  std::set<uint32_t> is_holiday_set, 
				std::set<uint32_t>isnot_holiday_set  ) {
			this->is_holiday_set_=is_holiday_set;
			this->isnot_holiday_set_=isnot_holiday_set;
		}

		

};

#include   <stdio.h>
int main(int argc, char *argv[])
{
	//Choliday h;
	//time_t t=time(NULL);
	//struct tm tm_tmp;
	//localtime_r(&t, &tm_tmp) ;
	//tm_tmp.tm_mon=11;
	//tm_tmp.tm_day=1; 
	
 	//std::cout<<"today is holiday:"<<h.check_is_holiday(t)<<std::endl;
	while(1){
		int i= i+1;
		int b= 2;
	}
}
